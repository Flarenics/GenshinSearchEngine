<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Genshin Search</title>
  <link href="css/bootstrap.min.css" rel="stylesheet">
  <link href="css/styles.css" rel="stylesheet">
  <link rel="website icon" type="png" href="https://genshin.jmp.blue/characters/hu-tao/icon" id="websiteIcon">
</head>
<body>
  <!-- navbar -->
  <nav class="navbar navbar-expand-lg" style="background: #22223B;">
    <div class="container">
      <div class="col-lg-4 d-flex">
        <img class="logo" src="https://genshin.jmp.blue/characters/hu-tao/icon" id="FlarenicsIcon" alt="Flarenics Icon">
        <!-- funny button -->
        <button class="flarenics" data-text="Flarenics">
          <span class="actual-text">&nbsp;Flarenics&nbsp;</span>
          <span aria-hidden="true" class="hover-text">&nbsp;Akshiro&nbsp;</span>
        </button>
      </div>
      
      <div class="col-lg-4">
        <div class="container">
          <h1 class="m-auto" id="genshinSearchEngine">Genshin Search Engine</h1>
        </div>
      </div>

      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="col-lg-4">
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
            <li class="nav-item">
              <a href="https://github.com/Flarenics/GenshinSearchEngine/" target="_blank">
                <button id="githubButton">
                  <img src="images\GithubLogo.png" alt="github logo" id="githubLogo">
                </button>
              </a>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </nav>

  <!-- user input -->
  <div class="container" id="userInputWrapper">
    <div class="row">
      <div class="col">
        <div id="userInput">
          <!-- Character/Nation/Artifact Selector -->
          <select name="searchPoints" id="searchPoints">
            <option value="name-asc">Sort by: Name A-Z</option>
            <option value="name-desc">Sort by: Name Z-A</option>
            <option value="rarity">Sort by: Rarity</option>
          </select>
    
          <div class="autocomplete">
            <input type="text" id="characterName" placeholder="Enter name" class="search" onkeypress="search(event)">
          </div>
          <button onclick="fetchInfo()">Search</button><br>
        </div>
      </div>
    </div>
  </div>

  <div id="filters">
    <select id="visionFilter" onchange="applyFilters()">
      <option value="">All Visions</option>
      <option value="Pyro">Pyro</option>
      <option value="Geo">Geo</option>
      <option value="Dendro">Dendro</option>
      <option value="Anemo">Anemo</option>
      <option value="Hydro">Hydro</option>
      <option value="Cryo">Cryo</option>
      <option value="Electro">Electro</option>
    </select>

    <select id="weaponFilter" onchange="applyFilters()">
      <option value="">All Weapons</option>
      <option value="Polearm">Polearm</option>
      <option value="Sword">Sword</option>
      <option value="Bow">Bow</option>
      <option value="Claymore">Claymore</option>
      <option value="Catalyst">Catalyst</option>
    </select>

    <select id="rarityFilter" onchange="applyFilters()">
      <option value="">All Rarities</option>
      <option value="4">4 Stars</option>
      <option value="5">5 Stars</option>
    </select>
  </div>
  
  <select name="searchPoints" id="searchPoints">
    <option value="name-asc">Sort by: Name A-Z</option>
    <option value="name-desc">Sort by: Name Z-A</option>
    <option value="rarity">Sort by: Rarity</option>
  </select>

  <div class="container" id="characterCardsContainer"></div>

  <!-- results -->
  <div class="container totalOutputMid" id="totalOutputMid" style="display: none;">
    <div class="row">
      <div class="col-lg-2 d-flex flex-column">
        <!-- first row (character card) -->
        <div class="row mb-2">
          <div class="col">
            <img src="images\cardPlaceholder.png" alt="leftImage" id="characterCard">
          </div>
        </div>
      
        <!-- second row (affiliation) -->
        <div class="row mt-3 flex-grow-1 d-flex align-items-center">
          <div class="col h-100">
            <div class="box d-flex text-center h-100">
              <p class="m-auto" id="charAffiliation" style="font-weight: 700; font-style: italic;"></p>
            </div>
          </div>
        </div>
      </div>

      <div class="col-lg-10">
        <div class="row h-100">
          <div class="col-lg-5">
            <div class="outputText box p-4 h-100">
              <div class="row">
                <div class="col">
                  <img id="charNamecardImage" src="" alt=" Namecard">
                </div>
              </div>

              <!-- name -->
              <div class="row">
                <div class="col-4 d-flex align-items-center">
                  <p style="font-weight: 600;">Name</p>
                </div>
    
                <div class="col-8">
                  <p id="charName"></p>
                </div>
              </div>

              <!-- rarity -->
              <div class="row">
                <div class="col-4 d-flex align-items-center">
                  <p>Rarity</p>
                </div>

                <div class="col-8">
                  <div id="charRarityWrapper">
                    <div id="charRarityImageWrapper" class="d-flex align-items-center">
                      <img id="charRarityImage" src="images\elements\Hydro.svg" alt="">
                      <p class="ms-2" id="charRarity"></p>
                    </div>
                  </div>
                </div>
              </div>

              <!-- element -->
              <div class="row">
                <div class="col-4 d-flex align-items-center">
                  <p>Element</p>
                </div>
    
                <div class="col-8">
                  <div id="charVisionWrapper" class="d-flex align-items-center">
                    <img id="charVisionImage" src="" alt="">
                    <p class="ms-2" id="charVision"></p>
                  </div>
                </div>
              </div>

              <!-- weapon -->
              <div class="row">
                <div class="col-4 d-flex align-items-center">
                  <p>Weapon</p>
                </div>

                <div class="col-8">
                  <div id="charWeaponWrapper" class="d-flex align-items-center">
                    <img id="charWeaponImage" src="" alt="">
                    <p class="ms-2" id="charWeapon"></p>
                  </div>
                </div>
              </div>

              <!-- nation -->
              <div class="row">
                <div class="col-4 d-flex align-items-center">
                  <p>Nation</p>
                </div>

                <div class="col-8">
                  <div id="charNationWrapper" class="d-flex align-items-center">
                    <img id="charNationImage" src="" alt="">
                    <p class="ms-2" id="charNation"></p>
                  </div>
                </div>
              </div>

              <!-- gender -->
              <div class="row">
                <div class="col-4 d-flex align-items-center">
                  <p>Gender</p>
                </div>

                <div class="col-8">
                  <div id="charGenderWrapper" class="d-flex align-items-center">
                    <p id="charGender"></p>
                  </div>
                </div>
              </div>

              <!-- birthday -->
              <div class="row">
                <div class="col-4 d-flex align-items-center">
                  <p>Birthday</p>
                </div>

                <div class="col-8">
                  <div id="charBirthdayWrapper" class="d-flex align-items-center">
                    <p id="charBirthday"></p>
                  </div>
                </div>
              </div>

              <!-- release date -->
              <div class="row">
                <div class="col-4 d-flex align-items-center">
                  <p>Release Date</p>
                </div>

                <div class="col-8">
                  <div id="charReleaseDateWrapper" class="d-flex align-items-center">
                    <p id="charReleaseDate"></p>
                  </div>
                </div>
              </div>

              <!-- affiliation -->
              <!-- <div class="row">
                <div class="col-4 d-flex align-items-center">
                  <p>Affiliation</p>
                </div>

                <div class="col-8">
                  <div id="charAffiliation" class="d-flex align-items-center">
                    <img id="charAffiliation" src="" alt="">
                    <p id="charAffiliation"></p>
                  </div>
                </div>
              </div> -->
            </div>
          </div>
  
          <div class="col-lg-7">
            <div class="titleDescWrap box p-4">
              <p id="charTitle"></p>
              <p id="charDesc"></p>
            </div>

            <div class="row mt-4">
              <div class="col">
                <img class="box" src="images\splashPlaceholder.png" alt="rightImage" id="characterSplash" crossorigin>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="container mt-4 mb-4 w-100" id="constellationsBox" style="display: none;">
    <!-- constellation -->
    <div class="row">
      <div class="col">
        <div class="box p-4" id="charConstellations"></div>
      </div>
    </div>
  </div>

  <div class="container mt-4" id="noSearchResult" style="display: none;">
    <div class="row">
      <div class="col">
        <div class="box p-4">
          <p class="mb-0 text-center" style="font-style: italic; font-weight: 700;">Hmm... no matches found. Maybe try a different keyword?</p>
        </div>
      </div>
    </div>
  </div>

  <script src="js/bootstrap.bundle.min.js"></script>
  <script src="js/fetchCharacters.js"></script>
  <script src="js/app.js"></script>
</body>
</html>
